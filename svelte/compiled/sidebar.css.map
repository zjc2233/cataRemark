{
  "version": 3,
  "file": "sidebar.css",
  "sources": [
    "TreeViewNode.svelte"
  ],
  "sourcesContent": [
    "<script context=\"module\">\n  /**\n   * Computes the depth of a tree leaf node relative to <ul role=\"tree\" />\n   * @param {HTMLLIElement} node\n   * @returns {number} depth\n   */\n  export function computeTreeLeafDepth(node) {\n    let depth = 0;\n\n    if (node == null) return depth;\n\n    let parentNode = node.parentNode;\n\n    while (parentNode != null && parentNode.getAttribute(\"role\") !== \"tree\") {\n      parentNode = parentNode.parentNode;\n      if (parentNode.tagName === \"LI\") depth++;\n    }\n\n    return depth;\n  }\n\n  /**\n   * Finds the nearest parent tree node\n   * @param {HTMLElement} node\n   * @returns {null | HTMLElement}\n   */\n  function findParentTreeNode(node) {\n    if (node.classList.contains(\"bx--tree-parent-node\")) return node;\n    if (node.classList.contains(\"bx--tree\")) return null;\n    return findParentTreeNode(node.parentNode);\n  }\n</script>\n\n<script>\n  /**\n   * @typedef {string | number} TreeNodeId\n   */\n\n  export let leaf = false;\n\n  /** @type {TreeNodeId} */\n  export let resourcePath = \"\";\n  export let title = \"\";\n  export let remark = \"\";\n  export let isFile = false;\n  export let isDir = false;\n  export let relativePath = \"\";\n  export let deep = 0;\n  export let disabled = false;\n\n  /**\n   * Specify the icon to render\n   * @type {typeof import(\"svelte\").SvelteComponent}\n   */\n  export let icon = undefined;\n\n  import { afterUpdate, getContext } from \"svelte\";\n\n  let ref = null;\n  let refLabel = null;\n  let prevActiveId = undefined;\n\n  const { activeNodeId, selectedNodeIds, clickNode, selectNode, focusNode } =\n    getContext(\"TreeView\");\n  const offset = () =>\n    computeTreeLeafDepth(refLabel) + (leaf && icon ? 2 : 2.5);\n\n  afterUpdate(() => {\n    if (resourcePath === $activeNodeId && prevActiveId !== $activeNodeId) {\n      if (!$selectedNodeIds.includes(resourcePath)) selectNode(node);\n    }\n\n    prevActiveId = $activeNodeId;\n  });\n\n  $: node = { resourcePath, title, expanded: false, leaf, remark, isFile, isDir, relativePath, deep };\n  $: if (refLabel) {\n    refLabel.style.marginLeft = `-${offset()}rem`;\n    refLabel.style.paddingLeft = `${offset()}rem`;\n  }\n</script>\n\n<li\n  bind:this=\"{ref}\"\n  role=\"treeitem\"\n  resourcePath=\"{resourcePath}\"\n  tabindex=\"{disabled ? undefined : -1}\"\n  aria-current=\"{resourcePath === $activeNodeId || undefined}\"\n  aria-selected=\"{disabled ? undefined : $selectedNodeIds.includes(resourcePath)}\"\n  aria-disabled=\"{disabled}\"\n  class:bx--tree-node=\"{true}\"\n  class:bx--tree-leaf-node=\"{true}\"\n  class:bx--tree-node--active=\"{resourcePath === $activeNodeId}\"\n  class:bx--tree-node--selected=\"{$selectedNodeIds.includes(resourcePath)}\"\n  class:bx--tree-node--disabled=\"{disabled}\"\n  class:bx--tree-node--with-icon=\"{icon}\"\n  on:click|stopPropagation=\"{() => {\n    if (disabled) return;\n    clickNode(node);\n  }}\"\n  on:keydown=\"{(e) => {\n    if (e.key === 'ArrowLeft' || e.key === 'ArrowRight' || e.key === 'Enter') {\n      e.stopPropagation();\n    }\n\n    if (e.key === 'ArrowLeft') {\n      const parentNode = findParentTreeNode(ref.parentNode);\n      if (parentNode) parentNode.focus();\n    }\n\n    if (e.key === 'Enter' || e.key === ' ') {\n      e.preventDefault();\n      if (disabled) return;\n      clickNode(node);\n    }\n  }}\"\n  on:focus=\"{() => {\n    focusNode(node);\n  }}\"\n>\n  <div bind:this=\"{refLabel}\" class:bx--tree-node__label=\"{true}\">\n    <svelte:component this=\"{icon}\" class=\"bx--tree-node__icon\" />\n    {title}\n    {#if ![null, undefined, ''].includes(remark)}\n      <svg t=\"1656661433646\" class=\"icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"1522\" width=\"16\" height=\"16\"><path d=\"M625.728 57.472c19.264 0 34.688 6.848 48.128 20.16l208.96 207.04c14.272 13.12 21.568 29.568 21.568 49.28v504.576c0 71.808-56.256 127.744-128.576 127.744H252.16c-72.128 0-128.576-55.68-128.576-127.744V184.704c0-71.68 56.256-127.232 128.576-127.232z m-34.304 76.8H252.16c-30.144 0-51.776 21.376-51.776 50.432v653.824c0 29.44 21.888 50.944 51.776 50.944h523.648c30.016 0 51.84-21.632 51.84-50.944l-0.128-464.512H687.488A96 96 0 0 1 591.936 287.36l-0.448-9.216V134.208zM665.6 704a38.4 38.4 0 0 1 0 76.8H294.4a38.4 38.4 0 0 1 0-76.8h371.2z m0-192a38.4 38.4 0 0 1 0 76.8H294.4a38.4 38.4 0 0 1 0-76.8h371.2z m-192-192a38.4 38.4 0 1 1 0 76.8H294.4a38.4 38.4 0 1 1 0-76.8h179.2z m181.824-152.512v110.592a32 32 0 0 0 26.24 31.488l5.76 0.512h111.872L655.424 167.424z\" p-id=\"1523\" fill=\"#8a8a8a\"></path></svg>\n    {/if}\n    {remark}\n  </div>\n</li>\n\n<style>\n  .icon{\n    color: #fff;\n  }\n</style>\n"
  ],
  "names": [],
  "mappings": "AAmIE,oBAAK,CAAC,AACJ,KAAK,CAAE,IAAI,AACb,CAAC"
}